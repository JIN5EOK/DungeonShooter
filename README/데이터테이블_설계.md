# 개요
> 아이템, 스킬, 몬스터 등 데이터 테이블에 대한 설계입니다

* 수치, 값 위주의 데이터를 테이블로 관리
* 프리펩, 에디터의 기능을 많이 사용해야 하는 부분들은 스크립터블 오브젝트 등으로 관리

# 다이어그램

### 테이블 리포지토리
```mermaid
classDiagram
    class ITableRepository["ITableRepository<br>테이블 데이터 제공"]{
	    +GetTableEntry~T~(int id) T
	}
	
	class LocalTableRepository["LocalRepository<br>로컬 CSV 파일로 데이터 제공"]{

	}
	
	class DBTableRepository["DBTableRepository<br>DB 서버로 데이터 제공"]{
        
	}
	
	class CSVTableParser{
	    Parse~List~T~~(TextAssets textAsset) 
	    // T는 TableEntry
    }
	
	ITableRepository <|.. LocalTableRepository
	ITableRepository <|.. DBTableRepository
    LocalTableRepository --> CSVTableParser
```

* `ITableRepository`
    * `LocalRepository`
      * 어드레서블을 통해 CSV 파일을 TextAsset 형태로 가져옴
      * `CSVTableParser`를 통해 로컬 CSV 데이터를 기반으로 데이터 제공받음
    * 사용자에게 실질적으로 TableEntry 제공
* `CSVTableParser`
    * 기본 CSV 파일 생성 (MenuItem 사용, 에디터 전용 기능)
        * `SkillTableEntry`, `ItemTableEntry`들을 생성하는데 필요한 정보를 담을 수 있는 기본 CSV파일 생성
        * 1행에 변수 이름을 담고 2행부터 데이터를 담을 수 있도록 비워두기
    * CSV 파일에서 데이터를 읽어 `SkillTableEntry`, `ItemTableEntry`로 변환
        * 변환할 때 기본적으로 1:1 변환, int Id라면 Id 열의 값을 담으면 됨
        * `SkillTableEntry.Amounts` 의 경우 해당 열에 'Json'으로 필요한 값을 담고 딕셔너리 생성시 알맞은 Amount타입으로 생성해 삽입 
            * 예: -> `{"DamageAmount":10,"HealAmount":10}`
            * 매핑테이블 사용해 문자열 -> Amount 객체 생성


