## 구상
* 모든 씬이 완전히 로드되기 전 전처리 작업은 `Bootstrap` 클래스에서 담당한다, 
* `RuntimeInitializeOnLoadMethod(BeforeSceneLoad)`를 사용하여 어떤씬에서 시작해도 초기화 로직을 실행하도록 한다
* 전역적인 의존성은 `GlobalLifeTimeScope` 클래스가 담당한다

## 다이어그램

### LifeTimeScope 계층
```mermaid
classDiagram    
    GlobalLifeTimeScope <|-- SceneLifeTimeScope
```
* `GlobalLifeTimeScope`: 씬에 종속되지 않는 전역적인 의존성
* `SceneLifeTimeScope`: 특정 씬에 종속적인 의존성

### 게임 실행시 초기화 시퀀스
```mermaid
sequenceDiagram
    autonumber
    participant Bootstrap
    participant GlobalLifeTimeScope
    participant SceneLifeTimeScope
    activate Bootstrap
    note over Bootstrap: RuntimeInitializeOnLoadMethod(BeforeSceneLoad)
    Bootstrap--)GlobalLifeTimeScope: 생성
    activate GlobalLifeTimeScope
    GlobalLifeTimeScope-->>GlobalLifeTimeScope: DontDestroyOnLoad 설정
    GlobalLifeTimeScope-->>GlobalLifeTimeScope: 전역 서비스 등록 (InputManager 등)
    deactivate GlobalLifeTimeScope
    Bootstrap--)Bootstrap: LifetimeScope.EnqueueParent(GlobalLifeTimeScope)
    Bootstrap-->>SceneLifeTimeScope: 씬 로딩됨
    deactivate Bootstrap
    activate SceneLifeTimeScope
    SceneLifeTimeScope-->>SceneLifeTimeScope: GlobalLifeTimeScope를 부모로 설정
    deactivate SceneLifeTimeScope
```

### SceneResourceProvider : 씬에 필요한 리소스 제공
```mermaid
classDiagram
    class ISceneResourceProvider{
        +GetInstance UniTask~GameObject~ (string address)
        +GetAsset<T>(string address) ~UniTask<T>~
        +AddOrGetComponentWithInejct<T>(GameObject go) T
        +AddComponentWithInejct<T>(GameObject go) T    
    }
    class IStageResourceProvider{
        +GetGroundTile() TileBase
        +GetPlayer() Player // 현재 선택된 플레이어 제공
        +GetRandomEnemy() Enemy // 스테이지에 맞는 랜덤 적 제공
    }
    class EditorStageResourceProvider{
        // 에디터용 스테이지 리소스 제공 로직
    }
    ISceneResourceProvider <|.. SceneResourceProvider
    SceneResourceProvider <|-- StageResourceProvider
    ISceneResourceProvider <|.. IStageResourceProvider
    IStageResourceProvider <|.. EditorStageResourceProvider
    IStageResourceProvider <|.. StageResourceProvider
```
- 기본적으로 아래의 기능을 담당한다
  - 어드레서블을 이용한 리소스 제공
  - 씬 이동시 로드된 리소스 해제
    - 에셋 로드, 오브젝트 생성, 컴포넌트 추가시 의존성 주입
- 추후 복잡도가 늘어나 분리가 필요하다 판단되면 분리한다